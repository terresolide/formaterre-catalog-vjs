import{c as Ve}from"./GridView.js";import{a as Dt}from"./index.js";function Te(xe){throw new Error('Could not dynamically require "'+xe+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var De={exports:{}};/*! jsonpath 1.1.1 */var Xe;function Mt(){return Xe||(Xe=1,(function(xe,ge){(function(N){xe.exports=N()})(function(){return(function N(W,P,I){function d(S,v){if(!P[S]){if(!W[S]){var o=typeof Te=="function"&&Te;if(!v&&o)return o(S,!0);if(O)return O(S,!0);var u=new Error("Cannot find module '"+S+"'");throw u.code="MODULE_NOT_FOUND",u}var y=P[S]={exports:{}};W[S][0].call(y.exports,function(l){var f=W[S][1][l];return d(f||l)},y,y.exports,N,W,P,I)}return P[S].exports}for(var O=typeof Te=="function"&&Te,w=0;w<I.length;w++)d(I[w]);return d})({"./aesprim":[function(N,W,P){(function(I,d){d(typeof P<"u"?P:I.esprima={})})(this,function(I){var d,O,w,S,v,o,u,y,l,f,r,k,T,h,n,s,p,a;d={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},O={},O[d.BooleanLiteral]="Boolean",O[d.EOF]="<end>",O[d.Identifier]="Identifier",O[d.Keyword]="Keyword",O[d.NullLiteral]="Null",O[d.NumericLiteral]="Numeric",O[d.Punctuator]="Punctuator",O[d.StringLiteral]="String",O[d.RegularExpression]="RegularExpression",w=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],S={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},v={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function g(e,t){if(!e)throw new Error("ASSERT: "+t)}function E(e){return e>=48&&e<=57}function C(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function m(e){return"01234567".indexOf(e)>=0}function L(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function R(e){return e===10||e===13||e===8232||e===8233}function M(e){return e==64||e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function q(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function J(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function K(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function H(e){return e==="eval"||e==="arguments"}function ae(e){if(f&&K(e))return!0;switch(e.length){case 2:return e==="if"||e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try"||e==="let";case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum";case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger";case 10:return e==="instanceof";default:return!1}}function V(e,t,i,c,x){var A;g(typeof i=="number","Comment must have valid position"),!(p.lastCommentStart>=i)&&(p.lastCommentStart=i,A={type:e,value:t},a.range&&(A.range=[i,c]),a.loc&&(A.loc=x),a.comments.push(A),a.attachComment&&(a.leadingComments.push(A),a.trailingComments.push(A)))}function le(e){var t,i,c,x;for(t=r-e,i={start:{line:k,column:r-T-e}};r<h;)if(c=l.charCodeAt(r),++r,R(c)){a.comments&&(x=l.slice(t+e,r-1),i.end={line:k,column:r-T-1},V("Line",x,t,r-1,i)),c===13&&l.charCodeAt(r)===10&&++r,++k,T=r;return}a.comments&&(x=l.slice(t+e,r),i.end={line:k,column:r-T},V("Line",x,t,r,i))}function de(){var e,t,i,c;for(a.comments&&(e=r-2,t={start:{line:k,column:r-T-2}});r<h;)if(i=l.charCodeAt(r),R(i))i===13&&l.charCodeAt(r+1)===10&&++r,++k,++r,T=r,r>=h&&$({},o.UnexpectedToken,"ILLEGAL");else if(i===42){if(l.charCodeAt(r+1)===47){++r,++r,a.comments&&(c=l.slice(e+2,r-2),t.end={line:k,column:r-T},V("Block",c,e,r,t));return}++r}else++r;$({},o.UnexpectedToken,"ILLEGAL")}function b(){var e,t;for(t=r===0;r<h;)if(e=l.charCodeAt(r),L(e))++r;else if(R(e))++r,e===13&&l.charCodeAt(r)===10&&++r,++k,T=r,t=!0;else if(e===47)if(e=l.charCodeAt(r+1),e===47)++r,++r,le(2),t=!0;else if(e===42)++r,++r,de();else break;else if(t&&e===45)if(l.charCodeAt(r+1)===45&&l.charCodeAt(r+2)===62)r+=3,le(3);else break;else if(e===60)if(l.slice(r+1,r+4)==="!--")++r,++r,++r,++r,le(4);else break;else break}function _(e){var t,i,c,x=0;for(i=e==="u"?4:2,t=0;t<i;++t)if(r<h&&C(l[r]))c=l[r++],x=x*16+"0123456789abcdef".indexOf(c.toLowerCase());else return"";return String.fromCharCode(x)}function D(){var e,t;for(e=l.charCodeAt(r++),t=String.fromCharCode(e),e===92&&(l.charCodeAt(r)!==117&&$({},o.UnexpectedToken,"ILLEGAL"),++r,e=_("u"),(!e||e==="\\"||!M(e.charCodeAt(0)))&&$({},o.UnexpectedToken,"ILLEGAL"),t=e);r<h&&(e=l.charCodeAt(r),!!q(e));)++r,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),l.charCodeAt(r)!==117&&$({},o.UnexpectedToken,"ILLEGAL"),++r,e=_("u"),(!e||e==="\\"||!q(e.charCodeAt(0)))&&$({},o.UnexpectedToken,"ILLEGAL"),t+=e);return t}function Y(){var e,t;for(e=r++;r<h;){if(t=l.charCodeAt(r),t===92)return r=e,D();if(q(t))++r;else break}return l.slice(e,r)}function re(){var e,t,i;return e=r,t=l.charCodeAt(r)===92?D():Y(),t.length===1?i=d.Identifier:ae(t)?i=d.Keyword:t==="null"?i=d.NullLiteral:t==="true"||t==="false"?i=d.BooleanLiteral:i=d.Identifier,{type:i,value:t,lineNumber:k,lineStart:T,start:e,end:r}}function z(){var e=r,t=l.charCodeAt(r),i,c=l[r],x,A,G;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++r,a.tokenize&&(t===40?a.openParenToken=a.tokens.length:t===123&&(a.openCurlyToken=a.tokens.length)),{type:d.Punctuator,value:String.fromCharCode(t),lineNumber:k,lineStart:T,start:e,end:r};default:if(i=l.charCodeAt(r+1),i===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return r+=2,{type:d.Punctuator,value:String.fromCharCode(t)+String.fromCharCode(i),lineNumber:k,lineStart:T,start:e,end:r};case 33:case 61:return r+=2,l.charCodeAt(r)===61&&++r,{type:d.Punctuator,value:l.slice(e,r),lineNumber:k,lineStart:T,start:e,end:r}}}if(G=l.substr(r,4),G===">>>=")return r+=4,{type:d.Punctuator,value:G,lineNumber:k,lineStart:T,start:e,end:r};if(A=G.substr(0,3),A===">>>"||A==="<<="||A===">>=")return r+=3,{type:d.Punctuator,value:A,lineNumber:k,lineStart:T,start:e,end:r};if(x=A.substr(0,2),c===x[1]&&"+-<>&|".indexOf(c)>=0||x==="=>")return r+=2,{type:d.Punctuator,value:x,lineNumber:k,lineStart:T,start:e,end:r};if("<>=!+-*%&|^/".indexOf(c)>=0)return++r,{type:d.Punctuator,value:c,lineNumber:k,lineStart:T,start:e,end:r};$({},o.UnexpectedToken,"ILLEGAL")}function j(e){for(var t="";r<h&&C(l[r]);)t+=l[r++];return t.length===0&&$({},o.UnexpectedToken,"ILLEGAL"),M(l.charCodeAt(r))&&$({},o.UnexpectedToken,"ILLEGAL"),{type:d.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:k,lineStart:T,start:e,end:r}}function Z(e){for(var t="0"+l[r++];r<h&&m(l[r]);)t+=l[r++];return(M(l.charCodeAt(r))||E(l.charCodeAt(r)))&&$({},o.UnexpectedToken,"ILLEGAL"),{type:d.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:k,lineStart:T,start:e,end:r}}function ee(){var e,t,i;if(i=l[r],g(E(i.charCodeAt(0))||i===".","Numeric literal must start with a decimal digit or a decimal point"),t=r,e="",i!=="."){if(e=l[r++],i=l[r],e==="0"){if(i==="x"||i==="X")return++r,j(t);if(m(i))return Z(t);i&&E(i.charCodeAt(0))&&$({},o.UnexpectedToken,"ILLEGAL")}for(;E(l.charCodeAt(r));)e+=l[r++];i=l[r]}if(i==="."){for(e+=l[r++];E(l.charCodeAt(r));)e+=l[r++];i=l[r]}if(i==="e"||i==="E")if(e+=l[r++],i=l[r],(i==="+"||i==="-")&&(e+=l[r++]),E(l.charCodeAt(r)))for(;E(l.charCodeAt(r));)e+=l[r++];else $({},o.UnexpectedToken,"ILLEGAL");return M(l.charCodeAt(r))&&$({},o.UnexpectedToken,"ILLEGAL"),{type:d.NumericLiteral,value:parseFloat(e),lineNumber:k,lineStart:T,start:t,end:r}}function ce(){var e="",t,i,c,x,A,G,Q=!1,oe,ie;for(oe=k,ie=T,t=l[r],g(t==="'"||t==='"',"String literal must starts with a quote"),i=r,++r;r<h;)if(c=l[r++],c===t){t="";break}else if(c==="\\")if(c=l[r++],!c||!R(c.charCodeAt(0)))switch(c){case"u":case"x":G=r,A=_(c),A?e+=A:(r=G,e+=c);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:m(c)?(x="01234567".indexOf(c),x!==0&&(Q=!0),r<h&&m(l[r])&&(Q=!0,x=x*8+"01234567".indexOf(l[r++]),"0123".indexOf(c)>=0&&r<h&&m(l[r])&&(x=x*8+"01234567".indexOf(l[r++]))),e+=String.fromCharCode(x)):e+=c;break}else++k,c==="\r"&&l[r]===`
`&&++r,T=r;else{if(R(c.charCodeAt(0)))break;e+=c}return t!==""&&$({},o.UnexpectedToken,"ILLEGAL"),{type:d.StringLiteral,value:e,octal:Q,startLineNumber:oe,startLineStart:ie,lineNumber:k,lineStart:T,start:i,end:r}}function ve(e,t){var i;try{i=new RegExp(e,t)}catch{$({},o.InvalidRegExp)}return i}function Oe(){var e,t,i,c,x;for(e=l[r],g(e==="/","Regular expression literal must start with a slash"),t=l[r++],i=!1,c=!1;r<h;)if(e=l[r++],t+=e,e==="\\")e=l[r++],R(e.charCodeAt(0))&&$({},o.UnterminatedRegExp),t+=e;else if(R(e.charCodeAt(0)))$({},o.UnterminatedRegExp);else if(i)e==="]"&&(i=!1);else if(e==="/"){c=!0;break}else e==="["&&(i=!0);return c||$({},o.UnterminatedRegExp),x=t.substr(1,t.length-2),{value:x,literal:t}}function Ee(){var e,t,i,c;for(t="",i="";r<h&&(e=l[r],!!q(e.charCodeAt(0)));)if(++r,e==="\\"&&r<h)if(e=l[r],e==="u"){if(++r,c=r,e=_("u"),e)for(i+=e,t+="\\u";c<r;++c)t+=l[c];else r=c,i+="u",t+="\\u";X({},o.UnexpectedToken,"ILLEGAL")}else t+="\\",X({},o.UnexpectedToken,"ILLEGAL");else i+=e,t+=e;return{value:i,literal:t}}function we(){var e,t,i,c;return s=null,b(),e=r,t=Oe(),i=Ee(),c=ve(t.value,i.value),a.tokenize?{type:d.RegularExpression,value:c,lineNumber:k,lineStart:T,start:e,end:r}:{literal:t.literal+i.literal,value:c,start:e,end:r}}function ye(){var e,t,i,c;return b(),e=r,t={start:{line:k,column:r-T}},i=we(),t.end={line:k,column:r-T},a.tokenize||(a.tokens.length>0&&(c=a.tokens[a.tokens.length-1],c.range[0]===e&&c.type==="Punctuator"&&(c.value==="/"||c.value==="/=")&&a.tokens.pop()),a.tokens.push({type:"RegularExpression",value:i.literal,range:[e,r],loc:t})),i}function Je(e){return e.type===d.Identifier||e.type===d.Keyword||e.type===d.BooleanLiteral||e.type===d.NullLiteral}function Qe(){var e,t;if(e=a.tokens[a.tokens.length-1],!e)return ye();if(e.type==="Punctuator"){if(e.value==="]")return z();if(e.value===")")return t=a.tokens[a.openParenToken-1],t&&t.type==="Keyword"&&(t.value==="if"||t.value==="while"||t.value==="for"||t.value==="with")?ye():z();if(e.value==="}"){if(a.tokens[a.openCurlyToken-3]&&a.tokens[a.openCurlyToken-3].type==="Keyword"){if(t=a.tokens[a.openCurlyToken-4],!t)return z()}else if(a.tokens[a.openCurlyToken-4]&&a.tokens[a.openCurlyToken-4].type==="Keyword"){if(t=a.tokens[a.openCurlyToken-5],!t)return ye()}else return z();return w.indexOf(t.value)>=0?z():ye()}return ye()}return e.type==="Keyword"?ye():z()}function Le(){var e;return b(),r>=h?{type:d.EOF,lineNumber:k,lineStart:T,start:r,end:r}:(e=l.charCodeAt(r),M(e)?re():e===40||e===41||e===59?z():e===39||e===34?ce():e===46?E(l.charCodeAt(r+1))?ee():z():E(e)?ee():a.tokenize&&e===47?Qe():z())}function Me(){var e,t,i;return b(),e={start:{line:k,column:r-T}},t=Le(),e.end={line:k,column:r-T},t.type!==d.EOF&&(i=l.slice(t.start,t.end),a.tokens.push({type:O[t.type],value:i,range:[t.start,t.end],loc:e})),t}function U(){var e;return e=s,r=e.end,k=e.lineNumber,T=e.lineStart,s=typeof a.tokens<"u"?Me():Le(),r=e.end,k=e.lineNumber,T=e.lineStart,e}function Ne(){var e,t,i;e=r,t=k,i=T,s=typeof a.tokens<"u"?Me():Le(),r=e,k=t,T=i}function Fe(e,t){this.line=e,this.column=t}function Ye(e,t,i,c){this.start=new Fe(e,t),this.end=new Fe(i,c)}y={name:"SyntaxTree",processComment:function(e){var t,i;if(!(e.type===S.Program&&e.body.length>0)){for(a.trailingComments.length>0?a.trailingComments[0].range[0]>=e.range[1]?(i=a.trailingComments,a.trailingComments=[]):a.trailingComments.length=0:a.bottomRightStack.length>0&&a.bottomRightStack[a.bottomRightStack.length-1].trailingComments&&a.bottomRightStack[a.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(i=a.bottomRightStack[a.bottomRightStack.length-1].trailingComments,delete a.bottomRightStack[a.bottomRightStack.length-1].trailingComments);a.bottomRightStack.length>0&&a.bottomRightStack[a.bottomRightStack.length-1].range[0]>=e.range[0];)t=a.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):a.leadingComments.length>0&&a.leadingComments[a.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=a.leadingComments,a.leadingComments=[]),i&&(e.trailingComments=i),a.bottomRightStack.push(e)}},markEnd:function(e,t){return a.range&&(e.range=[t.start,r]),a.loc&&(e.loc=new Ye(t.startLineNumber===void 0?t.lineNumber:t.startLineNumber,t.start-(t.startLineStart===void 0?t.lineStart:t.startLineStart),k,r-T),this.postProcess(e)),a.attachComment&&this.processComment(e),e},postProcess:function(e){return a.source&&(e.loc.source=a.source),e},createArrayExpression:function(e){return{type:S.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,i){return{type:S.AssignmentExpression,operator:e,left:t,right:i}},createBinaryExpression:function(e,t,i){var c=e==="||"||e==="&&"?S.LogicalExpression:S.BinaryExpression;return{type:c,operator:e,left:t,right:i}},createBlockStatement:function(e){return{type:S.BlockStatement,body:e}},createBreakStatement:function(e){return{type:S.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:S.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:S.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,i){return{type:S.ConditionalExpression,test:e,consequent:t,alternate:i}},createContinueStatement:function(e){return{type:S.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:S.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:S.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:S.EmptyStatement}},createExpressionStatement:function(e){return{type:S.ExpressionStatement,expression:e}},createForStatement:function(e,t,i,c){return{type:S.ForStatement,init:e,test:t,update:i,body:c}},createForInStatement:function(e,t,i){return{type:S.ForInStatement,left:e,right:t,body:i,each:!1}},createFunctionDeclaration:function(e,t,i,c){return{type:S.FunctionDeclaration,id:e,params:t,defaults:i,body:c,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,i,c){return{type:S.FunctionExpression,id:e,params:t,defaults:i,body:c,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:S.Identifier,name:e}},createIfStatement:function(e,t,i){return{type:S.IfStatement,test:e,consequent:t,alternate:i}},createLabeledStatement:function(e,t){return{type:S.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:S.Literal,value:e.value,raw:l.slice(e.start,e.end)}},createMemberExpression:function(e,t,i){return{type:S.MemberExpression,computed:e==="[",object:t,property:i}},createNewExpression:function(e,t){return{type:S.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:S.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:S.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:S.Program,body:e}},createProperty:function(e,t,i){return{type:S.Property,key:t,value:i,kind:e}},createReturnStatement:function(e){return{type:S.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:S.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:S.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:S.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:S.ThisExpression}},createThrowStatement:function(e){return{type:S.ThrowStatement,argument:e}},createTryStatement:function(e,t,i,c){return{type:S.TryStatement,block:e,guardedHandlers:t,handlers:i,finalizer:c}},createUnaryExpression:function(e,t){return e==="++"||e==="--"?{type:S.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:S.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:S.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:S.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:S.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:S.WithStatement,object:e,body:t}}};function be(){var e,t,i,c;return e=r,t=k,i=T,b(),c=k!==t,r=e,k=t,T=i,c}function $(e,t){var i,c=Array.prototype.slice.call(arguments,2),x=t.replace(/%(\d)/g,function(A,G){return g(G<c.length,"Message reference must be in range"),c[G]});throw typeof e.lineNumber=="number"?(i=new Error("Line "+e.lineNumber+": "+x),i.index=e.start,i.lineNumber=e.lineNumber,i.column=e.start-T+1):(i=new Error("Line "+k+": "+x),i.index=r,i.lineNumber=k,i.column=r-T+1),i.description=x,i}function X(){try{$.apply(null,arguments)}catch(e){if(a.errors)a.errors.push(e);else throw e}}function fe(e){if(e.type===d.EOF&&$(e,o.UnexpectedEOS),e.type===d.NumericLiteral&&$(e,o.UnexpectedNumber),e.type===d.StringLiteral&&$(e,o.UnexpectedString),e.type===d.Identifier&&$(e,o.UnexpectedIdentifier),e.type===d.Keyword){if(J(e.value))$(e,o.UnexpectedReserved);else if(f&&K(e.value)){X(e,o.StrictReservedWord);return}$(e,o.UnexpectedToken,e.value)}$(e,o.UnexpectedToken,e.value)}function B(e){var t=U();(t.type!==d.Punctuator||t.value!==e)&&fe(t)}function te(e){var t=U();(t.type!==d.Keyword||t.value!==e)&&fe(t)}function F(e){return s.type===d.Punctuator&&s.value===e}function se(e){return s.type===d.Keyword&&s.value===e}function Ze(){var e;return s.type!==d.Punctuator?!1:(e=s.value,e==="="||e==="*="||e==="/="||e==="%="||e==="+="||e==="-="||e==="<<="||e===">>="||e===">>>="||e==="&="||e==="^="||e==="|=")}function pe(){var e;if(l.charCodeAt(r)===59||F(";")){U();return}e=k,b(),k===e&&s.type!==d.EOF&&!F("}")&&fe(s)}function Ie(e){return e.type===S.Identifier||e.type===S.MemberExpression}function et(){var e=[],t;for(t=s,B("[");!F("]");)F(",")?(U(),e.push(null)):(e.push(ue()),F("]")||B(","));return U(),n.markEnd(n.createArrayExpression(e),t)}function Ae(e,t){var i,c,x;return i=f,x=s,c=Re(),t&&f&&H(e[0].name)&&X(t,o.StrictParamName),f=i,n.markEnd(n.createFunctionExpression(null,e,[],c),x)}function Ce(){var e,t;return t=s,e=U(),e.type===d.StringLiteral||e.type===d.NumericLiteral?(f&&e.octal&&X(e,o.StrictOctalLiteral),n.markEnd(n.createLiteral(e),t)):n.markEnd(n.createIdentifier(e.value),t)}function tt(){var e,t,i,c,x,A;if(e=s,A=s,e.type===d.Identifier)return i=Ce(),e.value==="get"&&!F(":")?(t=Ce(),B("("),B(")"),c=Ae([]),n.markEnd(n.createProperty("get",t,c),A)):e.value==="set"&&!F(":")?(t=Ce(),B("("),e=s,e.type!==d.Identifier?(B(")"),X(e,o.UnexpectedToken,e.value),c=Ae([])):(x=[me()],B(")"),c=Ae(x,e)),n.markEnd(n.createProperty("set",t,c),A)):(B(":"),c=ue(),n.markEnd(n.createProperty("init",i,c),A));if(e.type===d.EOF||e.type===d.Punctuator)fe(e);else return t=Ce(),B(":"),c=ue(),n.markEnd(n.createProperty("init",t,c),A)}function rt(){var e=[],t,i,c,x,A={},G=String,Q;for(Q=s,B("{");!F("}");)t=tt(),t.key.type===S.Identifier?i=t.key.name:i=G(t.key.value),x=t.kind==="init"?v.Data:t.kind==="get"?v.Get:v.Set,c="$"+i,Object.prototype.hasOwnProperty.call(A,c)?(A[c]===v.Data?f&&x===v.Data?X({},o.StrictDuplicateProperty):x!==v.Data&&X({},o.AccessorDataProperty):x===v.Data?X({},o.AccessorDataProperty):A[c]&x&&X({},o.AccessorGetSet),A[c]|=x):A[c]=x,e.push(t),F("}")||B(",");return B("}"),n.markEnd(n.createObjectExpression(e),Q)}function nt(){var e;return B("("),e=ne(),B(")"),e}function Be(){var e,t,i,c;if(F("("))return nt();if(F("["))return et();if(F("{"))return rt();if(e=s.type,c=s,e===d.Identifier)i=n.createIdentifier(U().value);else if(e===d.StringLiteral||e===d.NumericLiteral)f&&s.octal&&X(s,o.StrictOctalLiteral),i=n.createLiteral(U());else if(e===d.Keyword){if(se("function"))return Lt();se("this")?(U(),i=n.createThisExpression()):fe(U())}else e===d.BooleanLiteral?(t=U(),t.value=t.value==="true",i=n.createLiteral(t)):e===d.NullLiteral?(t=U(),t.value=null,i=n.createLiteral(t)):F("/")||F("/=")?(typeof a.tokens<"u"?i=n.createLiteral(ye()):i=n.createLiteral(we()),Ne()):fe(U());return n.markEnd(i,c)}function Ue(){var e=[];if(B("("),!F(")"))for(;r<h&&(e.push(ue()),!F(")"));)B(",");return B(")"),e}function it(){var e,t;return t=s,e=U(),Je(e)||fe(e),n.markEnd(n.createIdentifier(e.value),t)}function $e(){return B("."),it()}function qe(){var e;return B("["),e=ne(),B("]"),e}function We(){var e,t,i;return i=s,te("new"),e=st(),t=F("(")?Ue():[],n.markEnd(n.createNewExpression(e,t),i)}function at(){var e,t,i,c,x;for(x=s,e=p.allowIn,p.allowIn=!0,t=se("new")?We():Be(),p.allowIn=e;;){if(F("."))c=$e(),t=n.createMemberExpression(".",t,c);else if(F("("))i=Ue(),t=n.createCallExpression(t,i);else if(F("["))c=qe(),t=n.createMemberExpression("[",t,c);else break;n.markEnd(t,x)}return t}function st(){var e,t,i,c;for(c=s,e=p.allowIn,t=se("new")?We():Be(),p.allowIn=e;F(".")||F("[");)F("[")?(i=qe(),t=n.createMemberExpression("[",t,i)):(i=$e(),t=n.createMemberExpression(".",t,i)),n.markEnd(t,c);return t}function Ge(){var e,t,i=s;return e=at(),s.type===d.Punctuator&&(F("++")||F("--"))&&!be()&&(f&&e.type===S.Identifier&&H(e.name)&&X({},o.StrictLHSPostfix),Ie(e)||X({},o.InvalidLHSInAssignment),t=U(),e=n.markEnd(n.createPostfixExpression(t.value,e),i)),e}function Se(){var e,t,i;return s.type!==d.Punctuator&&s.type!==d.Keyword?t=Ge():F("++")||F("--")?(i=s,e=U(),t=Se(),f&&t.type===S.Identifier&&H(t.name)&&X({},o.StrictLHSPrefix),Ie(t)||X({},o.InvalidLHSInAssignment),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i)):F("+")||F("-")||F("~")||F("!")?(i=s,e=U(),t=Se(),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i)):se("delete")||se("void")||se("typeof")?(i=s,e=U(),t=Se(),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i),f&&t.operator==="delete"&&t.argument.type===S.Identifier&&X({},o.StrictDelete)):t=Ge(),t}function ze(e,t){var i=0;if(e.type!==d.Punctuator&&e.type!==d.Keyword)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":i=7;break;case"in":i=t?7:0;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11;break}return i}function ot(){var e,t,i,c,x,A,G,Q,oe,ie;if(e=s,oe=Se(),c=s,x=ze(c,p.allowIn),x===0)return oe;for(c.prec=x,U(),t=[e,s],G=Se(),A=[oe,c,G];(x=ze(s,p.allowIn))>0;){for(;A.length>2&&x<=A[A.length-2].prec;)G=A.pop(),Q=A.pop().value,oe=A.pop(),i=n.createBinaryExpression(Q,oe,G),t.pop(),e=t[t.length-1],n.markEnd(i,e),A.push(i);c=U(),c.prec=x,A.push(c),t.push(s),i=Se(),A.push(i)}for(ie=A.length-1,i=A[ie],t.pop();ie>1;)i=n.createBinaryExpression(A[ie-1].value,A[ie-2],i),ie-=2,e=t.pop(),n.markEnd(i,e);return i}function lt(){var e,t,i,c,x;return x=s,e=ot(),F("?")&&(U(),t=p.allowIn,p.allowIn=!0,i=ue(),p.allowIn=t,B(":"),c=ue(),e=n.createConditionalExpression(e,i,c),n.markEnd(e,x)),e}function ue(){var e,t,i,c,x;return e=s,x=s,c=t=lt(),Ze()&&(Ie(t)||X({},o.InvalidLHSInAssignment),f&&t.type===S.Identifier&&H(t.name)&&X(e,o.StrictLHSAssignment),e=U(),i=ue(),c=n.markEnd(n.createAssignmentExpression(e.value,t,i),x)),c}function ne(){var e,t=s;if(e=ue(),F(",")){for(e=n.createSequenceExpression([e]);r<h&&F(",");)U(),e.expressions.push(ue());n.markEnd(e,t)}return e}function ut(){for(var e=[],t;r<h&&!(F("}")||(t=ke(),typeof t>"u"));)e.push(t);return e}function _e(){var e,t;return t=s,B("{"),e=ut(),B("}"),n.markEnd(n.createBlockStatement(e),t)}function me(){var e,t;return t=s,e=U(),e.type!==d.Identifier&&fe(e),n.markEnd(n.createIdentifier(e.value),t)}function ct(e){var t=null,i,c;return c=s,i=me(),f&&H(i.name)&&X({},o.StrictVarName),e==="const"?(B("="),t=ue()):F("=")&&(U(),t=ue()),n.markEnd(n.createVariableDeclarator(i,t),c)}function Pe(e){var t=[];do{if(t.push(ct(e)),!F(","))break;U()}while(r<h);return t}function ft(){var e;return te("var"),e=Pe(),pe(),n.createVariableDeclaration(e,"var")}function pt(e){var t,i;return i=s,te(e),t=Pe(e),pe(),n.markEnd(n.createVariableDeclaration(t,e),i)}function ht(){return B(";"),n.createEmptyStatement()}function mt(){var e=ne();return pe(),n.createExpressionStatement(e)}function dt(){var e,t,i;return te("if"),B("("),e=ne(),B(")"),t=he(),se("else")?(U(),i=he()):i=null,n.createIfStatement(e,t,i)}function yt(){var e,t,i;return te("do"),i=p.inIteration,p.inIteration=!0,e=he(),p.inIteration=i,te("while"),B("("),t=ne(),B(")"),F(";")&&U(),n.createDoWhileStatement(e,t)}function gt(){var e,t,i;return te("while"),B("("),e=ne(),B(")"),i=p.inIteration,p.inIteration=!0,t=he(),p.inIteration=i,n.createWhileStatement(e,t)}function vt(){var e,t,i;return i=s,e=U(),t=Pe(),n.markEnd(n.createVariableDeclaration(t,e.value),i)}function St(){var e,t,i,c,x,A,G;return e=t=i=null,te("for"),B("("),F(";")?U():(se("var")||se("let")?(p.allowIn=!1,e=vt(),p.allowIn=!0,e.declarations.length===1&&se("in")&&(U(),c=e,x=ne(),e=null)):(p.allowIn=!1,e=ne(),p.allowIn=!0,se("in")&&(Ie(e)||X({},o.InvalidLHSInForIn),U(),c=e,x=ne(),e=null)),typeof c>"u"&&B(";")),typeof c>"u"&&(F(";")||(t=ne()),B(";"),F(")")||(i=ne())),B(")"),G=p.inIteration,p.inIteration=!0,A=he(),p.inIteration=G,typeof c>"u"?n.createForStatement(e,t,i,A):n.createForInStatement(c,x,A)}function Et(){var e=null,t;return te("continue"),l.charCodeAt(r)===59?(U(),p.inIteration||$({},o.IllegalContinue),n.createContinueStatement(null)):be()?(p.inIteration||$({},o.IllegalContinue),n.createContinueStatement(null)):(s.type===d.Identifier&&(e=me(),t="$"+e.name,Object.prototype.hasOwnProperty.call(p.labelSet,t)||$({},o.UnknownLabel,e.name)),pe(),e===null&&!p.inIteration&&$({},o.IllegalContinue),n.createContinueStatement(e))}function bt(){var e=null,t;return te("break"),l.charCodeAt(r)===59?(U(),p.inIteration||p.inSwitch||$({},o.IllegalBreak),n.createBreakStatement(null)):be()?(p.inIteration||p.inSwitch||$({},o.IllegalBreak),n.createBreakStatement(null)):(s.type===d.Identifier&&(e=me(),t="$"+e.name,Object.prototype.hasOwnProperty.call(p.labelSet,t)||$({},o.UnknownLabel,e.name)),pe(),e===null&&!(p.inIteration||p.inSwitch)&&$({},o.IllegalBreak),n.createBreakStatement(e))}function kt(){var e=null;return te("return"),p.inFunctionBody||X({},o.IllegalReturn),l.charCodeAt(r)===32&&M(l.charCodeAt(r+1))?(e=ne(),pe(),n.createReturnStatement(e)):be()?n.createReturnStatement(null):(F(";")||!F("}")&&s.type!==d.EOF&&(e=ne()),pe(),n.createReturnStatement(e))}function xt(){var e,t;return f&&(b(),X({},o.StrictModeWith)),te("with"),B("("),e=ne(),B(")"),t=he(),n.createWithStatement(e,t)}function wt(){var e,t=[],i,c;for(c=s,se("default")?(U(),e=null):(te("case"),e=ne()),B(":");r<h&&!(F("}")||se("default")||se("case"));)i=he(),t.push(i);return n.markEnd(n.createSwitchCase(e,t),c)}function It(){var e,t,i,c,x;if(te("switch"),B("("),e=ne(),B(")"),B("{"),t=[],F("}"))return U(),n.createSwitchStatement(e,t);for(c=p.inSwitch,p.inSwitch=!0,x=!1;r<h&&!F("}");)i=wt(),i.test===null&&(x&&$({},o.MultipleDefaultsInSwitch),x=!0),t.push(i);return p.inSwitch=c,B("}"),n.createSwitchStatement(e,t)}function Ct(){var e;return te("throw"),be()&&$({},o.NewlineAfterThrow),e=ne(),pe(),n.createThrowStatement(e)}function _t(){var e,t,i;return i=s,te("catch"),B("("),F(")")&&fe(s),e=me(),f&&H(e.name)&&X({},o.StrictCatchVariable),B(")"),t=_e(),n.markEnd(n.createCatchClause(e,t),i)}function Tt(){var e,t=[],i=null;return te("try"),e=_e(),se("catch")&&t.push(_t()),se("finally")&&(U(),i=_e()),t.length===0&&!i&&$({},o.NoCatchOrFinally),n.createTryStatement(e,[],t,i)}function Ot(){return te("debugger"),pe(),n.createDebuggerStatement()}function he(){var e=s.type,t,i,c,x;if(e===d.EOF&&fe(s),e===d.Punctuator&&s.value==="{")return _e();if(x=s,e===d.Punctuator)switch(s.value){case";":return n.markEnd(ht(),x);case"(":return n.markEnd(mt(),x)}if(e===d.Keyword)switch(s.value){case"break":return n.markEnd(bt(),x);case"continue":return n.markEnd(Et(),x);case"debugger":return n.markEnd(Ot(),x);case"do":return n.markEnd(yt(),x);case"for":return n.markEnd(St(),x);case"function":return n.markEnd(je(),x);case"if":return n.markEnd(dt(),x);case"return":return n.markEnd(kt(),x);case"switch":return n.markEnd(It(),x);case"throw":return n.markEnd(Ct(),x);case"try":return n.markEnd(Tt(),x);case"var":return n.markEnd(ft(),x);case"while":return n.markEnd(gt(),x);case"with":return n.markEnd(xt(),x)}return t=ne(),t.type===S.Identifier&&F(":")?(U(),c="$"+t.name,Object.prototype.hasOwnProperty.call(p.labelSet,c)&&$({},o.Redeclaration,"Label",t.name),p.labelSet[c]=!0,i=he(),delete p.labelSet[c],n.markEnd(n.createLabeledStatement(t,i),x)):(pe(),n.markEnd(n.createExpressionStatement(t),x))}function Re(){var e,t=[],i,c,x,A,G,Q,oe,ie;for(ie=s,B("{");r<h&&!(s.type!==d.StringLiteral||(i=s,e=ke(),t.push(e),e.expression.type!==S.Literal));)c=l.slice(i.start+1,i.end-1),c==="use strict"?(f=!0,x&&X(x,o.StrictOctalLiteral)):!x&&i.octal&&(x=i);for(A=p.labelSet,G=p.inIteration,Q=p.inSwitch,oe=p.inFunctionBody,p.labelSet={},p.inIteration=!1,p.inSwitch=!1,p.inFunctionBody=!0;r<h&&!(F("}")||(e=ke(),typeof e>"u"));)t.push(e);return B("}"),p.labelSet=A,p.inIteration=G,p.inSwitch=Q,p.inFunctionBody=oe,n.markEnd(n.createBlockStatement(t),ie)}function He(e){var t,i=[],c,x,A,G,Q;if(B("("),!F(")"))for(A={};r<h&&(c=s,t=me(),G="$"+c.value,f?(H(c.value)&&(x=c,Q=o.StrictParamName),Object.prototype.hasOwnProperty.call(A,G)&&(x=c,Q=o.StrictParamDupe)):e||(H(c.value)?(e=c,Q=o.StrictParamName):K(c.value)?(e=c,Q=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(A,G)&&(e=c,Q=o.StrictParamDupe)),i.push(t),A[G]=!0,!F(")"));)B(",");return B(")"),{params:i,stricted:x,firstRestricted:e,message:Q}}function je(){var e,t=[],i,c,x,A,G,Q,oe,ie;return ie=s,te("function"),c=s,e=me(),f?H(c.value)&&X(c,o.StrictFunctionName):H(c.value)?(G=c,Q=o.StrictFunctionName):K(c.value)&&(G=c,Q=o.StrictReservedWord),A=He(G),t=A.params,x=A.stricted,G=A.firstRestricted,A.message&&(Q=A.message),oe=f,i=Re(),f&&G&&$(G,Q),f&&x&&X(x,Q),f=oe,n.markEnd(n.createFunctionDeclaration(e,t,[],i),ie)}function Lt(){var e,t=null,i,c,x,A,G=[],Q,oe,ie;return ie=s,te("function"),F("(")||(e=s,t=me(),f?H(e.value)&&X(e,o.StrictFunctionName):H(e.value)?(c=e,x=o.StrictFunctionName):K(e.value)&&(c=e,x=o.StrictReservedWord)),A=He(c),G=A.params,i=A.stricted,c=A.firstRestricted,A.message&&(x=A.message),oe=f,Q=Re(),f&&c&&$(c,x),f&&i&&X(i,x),f=oe,n.markEnd(n.createFunctionExpression(t,G,[],Q),ie)}function ke(){if(s.type===d.Keyword)switch(s.value){case"const":case"let":return pt(s.value);case"function":return je();default:return he()}if(s.type!==d.EOF)return he()}function Nt(){for(var e,t=[],i,c,x;r<h&&(i=s,!(i.type!==d.StringLiteral||(e=ke(),t.push(e),e.expression.type!==S.Literal)));)c=l.slice(i.start+1,i.end-1),c==="use strict"?(f=!0,x&&X(x,o.StrictOctalLiteral)):!x&&i.octal&&(x=i);for(;r<h&&(e=ke(),!(typeof e>"u"));)t.push(e);return t}function At(){var e,t;return b(),Ne(),t=s,f=!1,e=Nt(),n.markEnd(n.createProgram(e),t)}function Ke(){var e,t,i,c=[];for(e=0;e<a.tokens.length;++e)t=a.tokens[e],i={type:t.type,value:t.value},a.range&&(i.range=t.range),a.loc&&(i.loc=t.loc),c.push(i);a.tokens=c}function Pt(e,t){var i,c,x;i=String,typeof e!="string"&&!(e instanceof String)&&(e=i(e)),n=y,l=e,r=0,k=l.length>0?1:0,T=0,h=l.length,s=null,p={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},a={},t=t||{},t.tokens=!0,a.tokens=[],a.tokenize=!0,a.openParenToken=-1,a.openCurlyToken=-1,a.range=typeof t.range=="boolean"&&t.range,a.loc=typeof t.loc=="boolean"&&t.loc,typeof t.comment=="boolean"&&t.comment&&(a.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(a.errors=[]);try{if(Ne(),s.type===d.EOF)return a.tokens;for(c=U();s.type!==d.EOF;)try{c=U()}catch(A){if(c=s,a.errors){a.errors.push(A);break}else throw A}Ke(),x=a.tokens,typeof a.comments<"u"&&(x.comments=a.comments),typeof a.errors<"u"&&(x.errors=a.errors)}catch(A){throw A}finally{a={}}return x}function Rt(e,t){var i,c;c=String,typeof e!="string"&&!(e instanceof String)&&(e=c(e)),n=y,l=e,r=0,k=l.length>0?1:0,T=0,h=l.length,s=null,p={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},a={},typeof t<"u"&&(a.range=typeof t.range=="boolean"&&t.range,a.loc=typeof t.loc=="boolean"&&t.loc,a.attachComment=typeof t.attachComment=="boolean"&&t.attachComment,a.loc&&t.source!==null&&t.source!==void 0&&(a.source=c(t.source)),typeof t.tokens=="boolean"&&t.tokens&&(a.tokens=[]),typeof t.comment=="boolean"&&t.comment&&(a.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(a.errors=[]),a.attachComment&&(a.range=!0,a.comments=[],a.bottomRightStack=[],a.trailingComments=[],a.leadingComments=[]));try{i=At(),typeof a.comments<"u"&&(i.comments=a.comments),typeof a.tokens<"u"&&(Ke(),i.tokens=a.tokens),typeof a.errors<"u"&&(i.errors=a.errors)}catch(x){throw x}finally{a={}}return i}I.version="1.2.2",I.tokenize=Pt,I.parse=Rt,I.Syntax=(function(){var e,t={};typeof Object.create=="function"&&(t=Object.create(null));for(e in S)S.hasOwnProperty(e)&&(t[e]=S[e]);return typeof Object.freeze=="function"&&Object.freeze(t),t})()})},{}],1:[function(N,W,P){(function(I){var d=(function(){var O={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(u,y,l,f,r,k,T){f.ast||(f.ast=w,w.initialize());var h=k.length-1;switch(r){case 1:return f.ast.set({expression:{type:"root",value:k[h]}}),f.ast.unshift(),f.ast.yield();case 2:return f.ast.set({expression:{type:"root",value:k[h-1]}}),f.ast.unshift(),f.ast.yield();case 3:return f.ast.unshift(),f.ast.yield();case 4:return f.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:k[h-1]}}),f.ast.unshift(),f.ast.yield();case 5:break;case 6:break;case 7:f.ast.set({operation:"member"}),f.ast.push();break;case 8:f.ast.set({operation:"subscript"}),f.ast.push();break;case 9:f.ast.set({scope:"child"});break;case 10:f.ast.set({scope:"descendant"});break;case 11:break;case 12:f.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:f.ast.set({expression:{type:"wildcard",value:k[h]}});break;case 15:f.ast.set({expression:{type:"identifier",value:k[h]}});break;case 16:f.ast.set({expression:{type:"script_expression",value:k[h]}});break;case 17:f.ast.set({expression:{type:"numeric_literal",value:parseInt(k[h])}});break;case 18:break;case 19:f.ast.set({scope:"child"});break;case 20:f.ast.set({scope:"descendant"});break;case 21:break;case 22:break;case 23:break;case 24:k[h].length>1?f.ast.set({expression:{type:"union",value:k[h]}}):this.$=k[h];break;case 25:this.$=[k[h]];break;case 26:this.$=k[h-2].concat(k[h]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(k[h])}},f.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:k[h]}},f.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:k[h]}},f.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:k[h]}},f.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:k[h]}},f.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:k[h]}},f.ast.set(this.$);break;case 33:this.$=k[h];break;case 34:this.$=k[h];break}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(u,y){if(y.recoverable)this.trace(u);else throw new Error(u)},parse:function(u){var y=this,l=[0],f=[null],r=[],k=this.table,T="",h=0,n=0,s=2,p=1,a=r.slice.call(arguments,1);this.lexer.setInput(u),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var g=this.lexer.yylloc;r.push(g);var E=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function C(){var le;return le=y.lexer.lex()||p,typeof le!="number"&&(le=y.symbols_[le]||le),le}for(var m,L,R,M,q={},J,K,H,ae;;){if(L=l[l.length-1],this.defaultActions[L]?R=this.defaultActions[L]:((m===null||typeof m>"u")&&(m=C()),R=k[L]&&k[L][m]),typeof R>"u"||!R.length||!R[0]){var V="";ae=[];for(J in k[L])this.terminals_[J]&&J>s&&ae.push("'"+this.terminals_[J]+"'");this.lexer.showPosition?V="Parse error on line "+(h+1)+`:
`+this.lexer.showPosition()+`
Expecting `+ae.join(", ")+", got '"+(this.terminals_[m]||m)+"'":V="Parse error on line "+(h+1)+": Unexpected "+(m==p?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(V,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:g,expected:ae})}if(R[0]instanceof Array&&R.length>1)throw new Error("Parse Error: multiple actions possible at state: "+L+", token: "+m);switch(R[0]){case 1:l.push(m),f.push(this.lexer.yytext),r.push(this.lexer.yylloc),l.push(R[1]),m=null,n=this.lexer.yyleng,T=this.lexer.yytext,h=this.lexer.yylineno,g=this.lexer.yylloc;break;case 2:if(K=this.productions_[R[1]][1],q.$=f[f.length-K],q._$={first_line:r[r.length-(K||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(K||1)].first_column,last_column:r[r.length-1].last_column},E&&(q._$.range=[r[r.length-(K||1)].range[0],r[r.length-1].range[1]]),M=this.performAction.apply(q,[T,n,h,this.yy,R[1],f,r].concat(a)),typeof M<"u")return M;K&&(l=l.slice(0,-1*K*2),f=f.slice(0,-1*K),r=r.slice(0,-1*K)),l.push(this.productions_[R[1]][0]),f.push(q.$),r.push(q._$),H=k[l[l.length-2]][l[l.length-1]],l.push(H);break;case 3:return!0}}return!0}},w={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(o){for(var u in o)this._node[u]=o[u];return this._node},node:function(o){return arguments.length&&(this._node=o),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var o=this._nodes;return this.initialize(),o}},S=(function(){var o={EOF:1,parseError:function(y,l){if(this.yy.parser)this.yy.parser.parseError(y,l);else throw new Error(y)},setInput:function(u){return this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var y=u.match(/(?:\r\n?|\n).*/g);return y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},unput:function(u){var y=u.length,l=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y-1),this.offset-=y;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===f.length?this.yylloc.first_column:0)+f[f.length-l.length].length-l[0].length:this.yylloc.first_column-y},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-y]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput(),y=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+y+"^"},test_match:function(u,y){var l,f,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),f=u[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],l=this.performAction.call(this,this.yy,this,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l)return l;if(this._backtrack){for(var k in r)this[k]=r[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,y,l,f;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),k=0;k<r.length;k++)if(l=this._input.match(this.rules[r[k]]),l&&(!y||l[0].length>y[0].length)){if(y=l,f=k,this.options.backtrack_lexer){if(u=this.test_match(l,r[k]),u!==!1)return u;if(this._backtrack){y=!1;continue}else return!1}else if(!this.options.flex)break}return y?(u=this.test_match(y,r[f]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var y=this.next();return y||this.lex()},begin:function(y){this.conditionStack.push(y)},popState:function(){var y=this.conditionStack.length-1;return y>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(y){return y=this.conditionStack.length-1-Math.abs(y||0),y>=0?this.conditionStack[y]:"INITIAL"},pushState:function(y){this.begin(y)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(y,l,f,r){switch(f){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return l.yytext=l.yytext.substr(1,l.yyleng-2),32;case 11:return l.yytext=l.yytext.substr(1,l.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return o})();O.lexer=S;function v(){this.yy={}}return v.prototype=O,O.Parser=v,new v})();typeof N<"u"&&typeof P<"u"&&(P.parser=d,P.Parser=d.Parser,P.parse=function(){return d.parse.apply(d,arguments)},P.main=function(w){w[1]||(console.log("Usage: "+w[0]+" FILE"),I.exit(1));var S=N("fs").readFileSync(N("path").normalize(w[1]),"utf8");return P.parser.parse(S)},typeof W<"u"&&N.main===W&&P.main(I.argv.slice(1)))}).call(this,N("_process"))},{_process:14,fs:12,path:13}],2:[function(N,W,P){W.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(N,W,P){var I=N("./dict"),d=N("fs"),O={lex:{macros:{esc:"\\\\",int:I.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[I.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[I.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[I.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};d.readFileSync&&(O.moduleInclude=d.readFileSync(N.resolve("../include/module.js")),O.actionInclude=d.readFileSync(N.resolve("../include/action.js"))),W.exports=O},{"./dict":2,fs:12}],4:[function(N,W,P){var I=N("./aesprim"),d=N("./slice"),O=N("static-eval"),w=N("underscore").uniq,S=function(){return this.initialize.apply(this,arguments)};S.prototype.initialize=function(){this.traverse=y(!0),this.descend=y()},S.prototype.keys=Object.keys,S.prototype.resolve=function(h){var n=[h.operation,h.scope,h.expression.type].join("-"),s=this._fns[n];if(!s)throw new Error("couldn't resolve key: "+n);return s.bind(this)},S.prototype.register=function(h,n){if(!n instanceof Function)throw new Error("handler must be a function");this._fns[h]=n},S.prototype._fns={"member-child-identifier":function(h,n){var s=h.expression.value,p=n.value;if(p instanceof Object&&s in p)return[{value:p[s],path:n.path.concat(s)}]},"member-descendant-identifier":f(function(h,n,s){return h==s}),"subscript-child-numeric_literal":l(function(h,n,s){return h===s}),"member-child-numeric_literal":l(function(h,n,s){return String(h)===String(s)}),"subscript-descendant-numeric_literal":f(function(h,n,s){return h===s}),"member-child-wildcard":l(function(){return!0}),"member-descendant-wildcard":f(function(){return!0}),"subscript-descendant-wildcard":f(function(){return!0}),"subscript-child-wildcard":l(function(){return!0}),"subscript-child-slice":function(h,n){if(o(n.value)){var s=h.expression.value.split(":").map(T),p=n.value.map(function(a,g){return{value:a,path:n.path.concat(g)}});return d.apply(null,[p].concat(s))}},"subscript-child-union":function(h,n){var s=[];return h.expression.value.forEach(function(p){var a={operation:"subscript",scope:"child",expression:p.expression},g=this.resolve(a),E=g(a,n);E&&(s=s.concat(E))},this),k(s)},"subscript-descendant-union":function(h,n,s){var p=N(".."),a=this,g=[],E=p.nodes(n,"$..*").slice(1);return E.forEach(function(C){g.length>=s||h.expression.value.forEach(function(m){var L={operation:"subscript",scope:"child",expression:m.expression},R=a.resolve(L),M=R(L,C);g=g.concat(M)})}),k(g)},"subscript-child-filter_expression":function(h,n,s){var p=h.expression.value.slice(2,-1),a=I.parse(p).body[0].expression,g=function(E,C){return r(a,{"@":C})};return this.descend(n,null,g,s)},"subscript-descendant-filter_expression":function(h,n,s){var p=h.expression.value.slice(2,-1),a=I.parse(p).body[0].expression,g=function(E,C){return r(a,{"@":C})};return this.traverse(n,null,g,s)},"subscript-child-script_expression":function(h,n){var s=h.expression.value.slice(1,-1);return v(n,s,"$[{{value}}]")},"member-child-script_expression":function(h,n){var s=h.expression.value.slice(1,-1);return v(n,s,"$.{{value}}")},"member-descendant-script_expression":function(h,n){var s=h.expression.value.slice(1,-1);return v(n,s,"$..value")}},S.prototype._fns["subscript-child-string_literal"]=S.prototype._fns["member-child-identifier"],S.prototype._fns["member-descendant-numeric_literal"]=S.prototype._fns["subscript-descendant-string_literal"]=S.prototype._fns["member-descendant-identifier"];function v(h,n,s){var p=N("./index"),a=I.parse(n).body[0].expression,g=r(a,{"@":h.value}),E=s.replace(/\{\{\s*value\s*\}\}/g,g),C=p.nodes(h.value,E);return C.forEach(function(m){m.path=h.path.concat(m.path.slice(1))}),C}function o(h){return Array.isArray(h)}function u(h){return h&&!(h instanceof Array)&&h instanceof Object}function y(h){return function(n,s,p,a){var g=n.value,E=n.path,C=[],m=(function(L,R){o(L)?(L.forEach(function(M,q){C.length>=a||p(q,M,s)&&C.push({path:R.concat(q),value:M})}),L.forEach(function(M,q){C.length>=a||h&&m(M,R.concat(q))})):u(L)&&(this.keys(L).forEach(function(M){C.length>=a||p(M,L[M],s)&&C.push({path:R.concat(M),value:L[M]})}),this.keys(L).forEach(function(M){C.length>=a||h&&m(L[M],R.concat(M))}))}).bind(this);return m(g,E),C}}function l(h){return function(n,s,p){return this.descend(s,n.expression.value,h,p)}}function f(h){return function(n,s,p){return this.traverse(s,n.expression.value,h,p)}}function r(){try{return O.apply(this,arguments)}catch{}}function k(h){return h=h.filter(function(n){return n}),w(h,function(n){return n.path.map(function(s){return String(s).replace("-","--")}).join("-")})}function T(h){var n=String(h);return n.match(/^-?[0-9]+$/)?parseInt(n):null}W.exports=S},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(N,W,P){var I=N("assert"),d=N("./dict"),O=N("./parser"),w=N("./handlers"),S=function(){this.initialize.apply(this,arguments)};S.prototype.initialize=function(){this.parser=new O,this.handlers=new w},S.prototype.parse=function(u){return I.ok(v(u),"we need a path"),this.parser.parse(u)},S.prototype.parent=function(u,y){I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path");var l=this.nodes(u,y)[0];return l.path.pop(),this.value(u,l.path)},S.prototype.apply=function(u,y,l){I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path"),I.equal(typeof l,"function","fn needs to be function");var f=this.nodes(u,y).sort(function(r,k){return k.path.length-r.path.length});return f.forEach(function(r){var k=r.path.pop(),T=this.value(u,this.stringify(r.path)),h=r.value=l.call(u,T[k]);T[k]=h},this),f},S.prototype.value=function(u,y,l){if(I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path"),arguments.length>=3){var f=this.nodes(u,y).shift();if(!f)return this._vivify(u,y,l);var r=f.path.slice(-1).shift(),k=this.parent(u,this.stringify(f.path));k[r]=l}return this.query(u,this.stringify(y),1).shift()},S.prototype._vivify=function(u,y,l){var f=this;I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path");var r=this.parser.parse(y).map(function(T){return T.expression.value}),k=function(T,h){var n=T.pop(),s=f.value(u,T);s||(k(T.concat(),typeof n=="string"?{}:[]),s=f.value(u,T)),s[n]=h};return k(r,l),this.query(u,y)[0]},S.prototype.query=function(u,y,l){I.ok(u instanceof Object,"obj needs to be an object"),I.ok(v(y),"we need a path");var f=this.nodes(u,y,l).map(function(r){return r.value});return f},S.prototype.paths=function(u,y,l){I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path");var f=this.nodes(u,y,l).map(function(r){return r.path});return f},S.prototype.nodes=function(u,y,l){if(I.ok(u instanceof Object,"obj needs to be an object"),I.ok(y,"we need a path"),l===0)return[];var f=this.parser.parse(y),r=this.handlers,k=[{path:["$"],value:u}],T=[];return f.length&&f[0].expression.type=="root"&&f.shift(),f.length?(f.forEach(function(h,n){if(!(T.length>=l)){var s=r.resolve(h),p=[];k.forEach(function(a){if(!(T.length>=l)){var g=s(h,a,l);n==f.length-1?T=T.concat(g||[]):p=p.concat(g||[])}}),k=p}}),l?T.slice(0,l):T):k},S.prototype.stringify=function(u){I.ok(u,"we need a path");var y="$",l={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return u=this._normalize(u),u.forEach(function(f){if(f.expression.type!="root"){var r=[f.scope,f.operation].join("-"),k=l[r],T;if(f.expression.type=="string_literal"?T=JSON.stringify(f.expression.value):T=f.expression.value,!k)throw new Error("couldn't find template "+r);y+=k.replace(/{{value}}/,T)}}),y},S.prototype._normalize=function(u){if(I.ok(u,"we need a path"),typeof u=="string")return this.parser.parse(u);if(Array.isArray(u)&&typeof u[0]=="string"){var y=[{expression:{type:"root",value:"$"}}];return u.forEach(function(l,f){if(!(l=="$"&&f===0))if(typeof l=="string"&&l.match("^"+d.identifier+"$"))y.push({operation:"member",scope:"child",expression:{value:l,type:"identifier"}});else{var r=typeof l=="number"?"numeric_literal":"string_literal";y.push({operation:"subscript",scope:"child",expression:{value:l,type:r}})}}),y}else if(Array.isArray(u)&&typeof u[0]=="object")return u;throw new Error("couldn't understand path "+u)};function v(u){return Object.prototype.toString.call(u)=="[object String]"}S.Handlers=w,S.Parser=O;var o=new S;o.JSONPath=S,W.exports=o},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(N,W,P){var I=N("./grammar"),d=N("../generated/parser"),O=function(){var w=new d.Parser,S=w.parseError;return w.yy.parseError=function(){w.yy.ast&&w.yy.ast.initialize(),S.apply(w,arguments)},w};O.grammar=I,W.exports=O},{"../generated/parser":1,"./grammar":3}],7:[function(N,W,P){W.exports=function(d,O,w,S){if(typeof O=="string")throw new Error("start cannot be a string");if(typeof w=="string")throw new Error("end cannot be a string");if(typeof S=="string")throw new Error("step cannot be a string");var v=d.length;if(S===0)throw new Error("step cannot be zero");if(S=S?I(S):1,O=O<0?v+O:O,w=w<0?v+w:w,O=I(O===0?0:O||(S>0?0:v-1)),w=I(w===0?0:w||(S>0?v:-1)),O=S>0?Math.max(0,O):Math.min(v,O),w=S>0?Math.min(w,v):Math.max(-1,w),S>0&&w<=O)return[];if(S<0&&O<=w)return[];for(var o=[],u=O;u!=w&&!(S<0&&u<=w||S>0&&u>=w);u+=S)o.push(d[u]);return o};function I(d){return String(d).match(/^[0-9]+$/)?parseInt(d):Number.isFinite(d)?parseInt(d,10):0}},{}],8:[function(N,W,P){var I=N("util/"),d=Array.prototype.slice,O=Object.prototype.hasOwnProperty,w=W.exports=y;w.AssertionError=function(s){this.name="AssertionError",this.actual=s.actual,this.expected=s.expected,this.operator=s.operator,s.message?(this.message=s.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var p=s.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,p);else{var a=new Error;if(a.stack){var g=a.stack,E=p.name,C=g.indexOf(`
`+E);if(C>=0){var m=g.indexOf(`
`,C+1);g=g.substring(m+1)}this.stack=g}}},I.inherits(w.AssertionError,Error);function S(n,s){return I.isUndefined(s)?""+s:I.isNumber(s)&&!isFinite(s)||I.isFunction(s)||I.isRegExp(s)?s.toString():s}function v(n,s){return I.isString(n)?n.length<s?n:n.slice(0,s):n}function o(n){return v(JSON.stringify(n.actual,S),128)+" "+n.operator+" "+v(JSON.stringify(n.expected,S),128)}function u(n,s,p,a,g){throw new w.AssertionError({message:p,actual:n,expected:s,operator:a,stackStartFunction:g})}w.fail=u;function y(n,s){n||u(n,!0,s,"==",w.ok)}w.ok=y,w.equal=function(s,p,a){s!=p&&u(s,p,a,"==",w.equal)},w.notEqual=function(s,p,a){s==p&&u(s,p,a,"!=",w.notEqual)},w.deepEqual=function(s,p,a){l(s,p)||u(s,p,a,"deepEqual",w.deepEqual)};function l(n,s){if(n===s)return!0;if(I.isBuffer(n)&&I.isBuffer(s)){if(n.length!=s.length)return!1;for(var p=0;p<n.length;p++)if(n[p]!==s[p])return!1;return!0}else return I.isDate(n)&&I.isDate(s)?n.getTime()===s.getTime():I.isRegExp(n)&&I.isRegExp(s)?n.source===s.source&&n.global===s.global&&n.multiline===s.multiline&&n.lastIndex===s.lastIndex&&n.ignoreCase===s.ignoreCase:!I.isObject(n)&&!I.isObject(s)?n==s:r(n,s)}function f(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function r(n,s){if(I.isNullOrUndefined(n)||I.isNullOrUndefined(s)||n.prototype!==s.prototype)return!1;if(I.isPrimitive(n)||I.isPrimitive(s))return n===s;var p=f(n),a=f(s);if(p&&!a||!p&&a)return!1;if(p)return n=d.call(n),s=d.call(s),l(n,s);var g=h(n),E=h(s),C,m;if(g.length!=E.length)return!1;for(g.sort(),E.sort(),m=g.length-1;m>=0;m--)if(g[m]!=E[m])return!1;for(m=g.length-1;m>=0;m--)if(C=g[m],!l(n[C],s[C]))return!1;return!0}w.notDeepEqual=function(s,p,a){l(s,p)&&u(s,p,a,"notDeepEqual",w.notDeepEqual)},w.strictEqual=function(s,p,a){s!==p&&u(s,p,a,"===",w.strictEqual)},w.notStrictEqual=function(s,p,a){s===p&&u(s,p,a,"!==",w.notStrictEqual)};function k(n,s){return!n||!s?!1:Object.prototype.toString.call(s)=="[object RegExp]"?s.test(n):n instanceof s?!0:s.call({},n)===!0}function T(n,s,p,a){var g;I.isString(p)&&(a=p,p=null);try{s()}catch(E){g=E}if(a=(p&&p.name?" ("+p.name+").":".")+(a?" "+a:"."),n&&!g&&u(g,p,"Missing expected exception"+a),!n&&k(g,p)&&u(g,p,"Got unwanted exception"+a),n&&g&&p&&!k(g,p)||!n&&g)throw g}w.throws=function(n,s,p){T.apply(this,[!0].concat(d.call(arguments)))},w.doesNotThrow=function(n,s){T.apply(this,[!1].concat(d.call(arguments)))},w.ifError=function(n){if(n)throw n};var h=Object.keys||function(n){var s=[];for(var p in n)O.call(n,p)&&s.push(p);return s}},{"util/":11}],9:[function(N,W,P){typeof Object.create=="function"?W.exports=function(d,O){d.super_=O,d.prototype=Object.create(O.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:W.exports=function(d,O){d.super_=O;var w=function(){};w.prototype=O.prototype,d.prototype=new w,d.prototype.constructor=d}},{}],10:[function(N,W,P){W.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},{}],11:[function(N,W,P){(function(I,d){var O=/%[sdj%]/g;P.format=function(b){if(!E(b)){for(var _=[],D=0;D<arguments.length;D++)_.push(v(arguments[D]));return _.join(" ")}for(var D=1,Y=arguments,re=Y.length,z=String(b).replace(O,function(Z){if(Z==="%%")return"%";if(D>=re)return Z;switch(Z){case"%s":return String(Y[D++]);case"%d":return Number(Y[D++]);case"%j":try{return JSON.stringify(Y[D++])}catch{return"[Circular]"}default:return Z}}),j=Y[D];D<re;j=Y[++D])p(j)||!R(j)?z+=" "+j:z+=" "+v(j);return z},P.deprecate=function(b,_){if(m(d.process))return function(){return P.deprecate(b,_).apply(this,arguments)};if(I.noDeprecation===!0)return b;var D=!1;function Y(){if(!D){if(I.throwDeprecation)throw new Error(_);I.traceDeprecation?console.trace(_):console.error(_),D=!0}return b.apply(this,arguments)}return Y};var w={},S;P.debuglog=function(b){if(m(S)&&(S=I.env.NODE_DEBUG||""),b=b.toUpperCase(),!w[b])if(new RegExp("\\b"+b+"\\b","i").test(S)){var _=I.pid;w[b]=function(){var D=P.format.apply(P,arguments);console.error("%s %d: %s",b,_,D)}}else w[b]=function(){};return w[b]};function v(b,_){var D={seen:[],stylize:u};return arguments.length>=3&&(D.depth=arguments[2]),arguments.length>=4&&(D.colors=arguments[3]),s(_)?D.showHidden=_:_&&P._extend(D,_),m(D.showHidden)&&(D.showHidden=!1),m(D.depth)&&(D.depth=2),m(D.colors)&&(D.colors=!1),m(D.customInspect)&&(D.customInspect=!0),D.colors&&(D.stylize=o),l(D,b,D.depth)}P.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(b,_){var D=v.styles[_];return D?"\x1B["+v.colors[D][0]+"m"+b+"\x1B["+v.colors[D][1]+"m":b}function u(b,_){return b}function y(b){var _={};return b.forEach(function(D,Y){_[D]=!0}),_}function l(b,_,D){if(b.customInspect&&_&&J(_.inspect)&&_.inspect!==P.inspect&&!(_.constructor&&_.constructor.prototype===_)){var Y=_.inspect(D,b);return E(Y)||(Y=l(b,Y,D)),Y}var re=f(b,_);if(re)return re;var z=Object.keys(_),j=y(z);if(b.showHidden&&(z=Object.getOwnPropertyNames(_)),q(_)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return r(_);if(z.length===0){if(J(_)){var Z=_.name?": "+_.name:"";return b.stylize("[Function"+Z+"]","special")}if(L(_))return b.stylize(RegExp.prototype.toString.call(_),"regexp");if(M(_))return b.stylize(Date.prototype.toString.call(_),"date");if(q(_))return r(_)}var ee="",ce=!1,ve=["{","}"];if(n(_)&&(ce=!0,ve=["[","]"]),J(_)){var Oe=_.name?": "+_.name:"";ee=" [Function"+Oe+"]"}if(L(_)&&(ee=" "+RegExp.prototype.toString.call(_)),M(_)&&(ee=" "+Date.prototype.toUTCString.call(_)),q(_)&&(ee=" "+r(_)),z.length===0&&(!ce||_.length==0))return ve[0]+ee+ve[1];if(D<0)return L(_)?b.stylize(RegExp.prototype.toString.call(_),"regexp"):b.stylize("[Object]","special");b.seen.push(_);var Ee;return ce?Ee=k(b,_,D,j,z):Ee=z.map(function(we){return T(b,_,D,j,we,ce)}),b.seen.pop(),h(Ee,ee,ve)}function f(b,_){if(m(_))return b.stylize("undefined","undefined");if(E(_)){var D="'"+JSON.stringify(_).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return b.stylize(D,"string")}if(g(_))return b.stylize(""+_,"number");if(s(_))return b.stylize(""+_,"boolean");if(p(_))return b.stylize("null","null")}function r(b){return"["+Error.prototype.toString.call(b)+"]"}function k(b,_,D,Y,re){for(var z=[],j=0,Z=_.length;j<Z;++j)de(_,String(j))?z.push(T(b,_,D,Y,String(j),!0)):z.push("");return re.forEach(function(ee){ee.match(/^\d+$/)||z.push(T(b,_,D,Y,ee,!0))}),z}function T(b,_,D,Y,re,z){var j,Z,ee;if(ee=Object.getOwnPropertyDescriptor(_,re)||{value:_[re]},ee.get?ee.set?Z=b.stylize("[Getter/Setter]","special"):Z=b.stylize("[Getter]","special"):ee.set&&(Z=b.stylize("[Setter]","special")),de(Y,re)||(j="["+re+"]"),Z||(b.seen.indexOf(ee.value)<0?(p(D)?Z=l(b,ee.value,null):Z=l(b,ee.value,D-1),Z.indexOf(`
`)>-1&&(z?Z=Z.split(`
`).map(function(ce){return"  "+ce}).join(`
`).substr(2):Z=`
`+Z.split(`
`).map(function(ce){return"   "+ce}).join(`
`))):Z=b.stylize("[Circular]","special")),m(j)){if(z&&re.match(/^\d+$/))return Z;j=JSON.stringify(""+re),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.substr(1,j.length-2),j=b.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=b.stylize(j,"string"))}return j+": "+Z}function h(b,_,D){var Y=b.reduce(function(re,z){return z.indexOf(`
`)>=0,re+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?D[0]+(_===""?"":_+`
 `)+" "+b.join(`,
  `)+" "+D[1]:D[0]+_+" "+b.join(", ")+" "+D[1]}function n(b){return Array.isArray(b)}P.isArray=n;function s(b){return typeof b=="boolean"}P.isBoolean=s;function p(b){return b===null}P.isNull=p;function a(b){return b==null}P.isNullOrUndefined=a;function g(b){return typeof b=="number"}P.isNumber=g;function E(b){return typeof b=="string"}P.isString=E;function C(b){return typeof b=="symbol"}P.isSymbol=C;function m(b){return b===void 0}P.isUndefined=m;function L(b){return R(b)&&H(b)==="[object RegExp]"}P.isRegExp=L;function R(b){return typeof b=="object"&&b!==null}P.isObject=R;function M(b){return R(b)&&H(b)==="[object Date]"}P.isDate=M;function q(b){return R(b)&&(H(b)==="[object Error]"||b instanceof Error)}P.isError=q;function J(b){return typeof b=="function"}P.isFunction=J;function K(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b>"u"}P.isPrimitive=K,P.isBuffer=N("./support/isBuffer");function H(b){return Object.prototype.toString.call(b)}function ae(b){return b<10?"0"+b.toString(10):b.toString(10)}var V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var b=new Date,_=[ae(b.getHours()),ae(b.getMinutes()),ae(b.getSeconds())].join(":");return[b.getDate(),V[b.getMonth()],_].join(" ")}P.log=function(){console.log("%s - %s",le(),P.format.apply(P,arguments))},P.inherits=N("inherits"),P._extend=function(b,_){if(!_||!R(_))return b;for(var D=Object.keys(_),Y=D.length;Y--;)b[D[Y]]=_[D[Y]];return b};function de(b,_){return Object.prototype.hasOwnProperty.call(b,_)}}).call(this,N("_process"),typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(N,W,P){},{}],13:[function(N,W,P){(function(I){function d(v,o){for(var u=0,y=v.length-1;y>=0;y--){var l=v[y];l==="."?v.splice(y,1):l===".."?(v.splice(y,1),u++):u&&(v.splice(y,1),u--)}if(o)for(;u--;u)v.unshift("..");return v}P.resolve=function(){for(var v="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var y=u>=0?arguments[u]:I.cwd();if(typeof y!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!y)continue;v=y+"/"+v,o=y.charAt(0)==="/"}return v=d(w(v.split("/"),function(l){return!!l}),!o).join("/"),(o?"/":"")+v||"."},P.normalize=function(v){var o=P.isAbsolute(v),u=S(v,-1)==="/";return v=d(w(v.split("/"),function(y){return!!y}),!o).join("/"),!v&&!o&&(v="."),v&&u&&(v+="/"),(o?"/":"")+v},P.isAbsolute=function(v){return v.charAt(0)==="/"},P.join=function(){var v=Array.prototype.slice.call(arguments,0);return P.normalize(w(v,function(o,u){if(typeof o!="string")throw new TypeError("Arguments to path.join must be strings");return o}).join("/"))},P.relative=function(v,o){v=P.resolve(v).substr(1),o=P.resolve(o).substr(1);function u(h){for(var n=0;n<h.length&&h[n]==="";n++);for(var s=h.length-1;s>=0&&h[s]==="";s--);return n>s?[]:h.slice(n,s-n+1)}for(var y=u(v.split("/")),l=u(o.split("/")),f=Math.min(y.length,l.length),r=f,k=0;k<f;k++)if(y[k]!==l[k]){r=k;break}for(var T=[],k=r;k<y.length;k++)T.push("..");return T=T.concat(l.slice(r)),T.join("/")},P.sep="/",P.delimiter=":",P.dirname=function(v){if(typeof v!="string"&&(v=v+""),v.length===0)return".";for(var o=v.charCodeAt(0),u=o===47,y=-1,l=!0,f=v.length-1;f>=1;--f)if(o=v.charCodeAt(f),o===47){if(!l){y=f;break}}else l=!1;return y===-1?u?"/":".":u&&y===1?"/":v.slice(0,y)};function O(v){typeof v!="string"&&(v=v+"");var o=0,u=-1,y=!0,l;for(l=v.length-1;l>=0;--l)if(v.charCodeAt(l)===47){if(!y){o=l+1;break}}else u===-1&&(y=!1,u=l+1);return u===-1?"":v.slice(o,u)}P.basename=function(v,o){var u=O(v);return o&&u.substr(-1*o.length)===o&&(u=u.substr(0,u.length-o.length)),u},P.extname=function(v){typeof v!="string"&&(v=v+"");for(var o=-1,u=0,y=-1,l=!0,f=0,r=v.length-1;r>=0;--r){var k=v.charCodeAt(r);if(k===47){if(!l){u=r+1;break}continue}y===-1&&(l=!1,y=r+1),k===46?o===-1?o=r:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||y===-1||f===0||f===1&&o===y-1&&o===u+1?"":v.slice(o,y)};function w(v,o){if(v.filter)return v.filter(o);for(var u=[],y=0;y<v.length;y++)o(v[y],y,v)&&u.push(v[y]);return u}var S="ab".substr(-1)==="b"?function(v,o,u){return v.substr(o,u)}:function(v,o,u){return o<0&&(o=v.length+o),v.substr(o,u)}}).call(this,N("_process"))},{_process:14}],14:[function(N,W,P){var I=W.exports={},d,O;function w(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=w}catch{d=w}try{typeof clearTimeout=="function"?O=clearTimeout:O=S}catch{O=S}})();function v(n){if(d===setTimeout)return setTimeout(n,0);if((d===w||!d)&&setTimeout)return d=setTimeout,setTimeout(n,0);try{return d(n,0)}catch{try{return d.call(null,n,0)}catch{return d.call(this,n,0)}}}function o(n){if(O===clearTimeout)return clearTimeout(n);if((O===S||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(n);try{return O(n)}catch{try{return O.call(null,n)}catch{return O.call(this,n)}}}var u=[],y=!1,l,f=-1;function r(){!y||!l||(y=!1,l.length?u=l.concat(u):f=-1,u.length&&k())}function k(){if(!y){var n=v(r);y=!0;for(var s=u.length;s;){for(l=u,u=[];++f<s;)l&&l[f].run();f=-1,s=u.length}l=null,y=!1,o(n)}}I.nextTick=function(n){var s=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)s[p-1]=arguments[p];u.push(new T(n,s)),u.length===1&&!y&&v(k)};function T(n,s){this.fun=n,this.array=s}T.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={};function h(){}I.on=h,I.addListener=h,I.once=h,I.off=h,I.removeListener=h,I.removeAllListeners=h,I.emit=h,I.prependListener=h,I.prependOnceListener=h,I.listeners=function(n){return[]},I.binding=function(n){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(n){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},{}],15:[function(N,W,P){var I=N("escodegen").generate;W.exports=function(d,O){O||(O={});var w={},S=(function v(o,u){if(o.type==="Literal")return o.value;if(o.type==="UnaryExpression"){var y=v(o.argument);return o.operator==="+"?+y:o.operator==="-"?-y:o.operator==="~"?~y:o.operator==="!"?!y:w}else if(o.type==="ArrayExpression"){for(var l=[],f=0,r=o.elements.length;f<r;f++){var k=v(o.elements[f]);if(k===w)return w;l.push(k)}return l}else if(o.type==="ObjectExpression"){for(var T={},f=0;f<o.properties.length;f++){var h=o.properties[f],n=h.value===null?h.value:v(h.value);if(n===w)return w;T[h.key.value||h.key.name]=n}return T}else if(o.type==="BinaryExpression"||o.type==="LogicalExpression"){var r=v(o.left);if(r===w)return w;var s=v(o.right);if(s===w)return w;var p=o.operator;return p==="=="?r==s:p==="==="?r===s:p==="!="?r!=s:p==="!=="?r!==s:p==="+"?r+s:p==="-"?r-s:p==="*"?r*s:p==="/"?r/s:p==="%"?r%s:p==="<"?r<s:p==="<="?r<=s:p===">"?r>s:p===">="?r>=s:p==="|"?r|s:p==="&"?r&s:p==="^"?r^s:p==="&&"?r&&s:p==="||"?r||s:w}else{if(o.type==="Identifier")return{}.hasOwnProperty.call(O,o.name)?O[o.name]:w;if(o.type==="ThisExpression")return{}.hasOwnProperty.call(O,"this")?O.this:w;if(o.type==="CallExpression"){var a=v(o.callee);if(a===w||typeof a!="function")return w;var g=o.callee.object?v(o.callee.object):w;g===w&&(g=null);for(var E=[],f=0,r=o.arguments.length;f<r;f++){var k=v(o.arguments[f]);if(k===w)return w;E.push(k)}return a.apply(g,E)}else if(o.type==="MemberExpression"){var T=v(o.object);if(T===w||typeof T=="function")return w;if(o.property.type==="Identifier")return T[o.property.name];var h=v(o.property);return h===w?w:T[h]}else if(o.type==="ConditionalExpression"){var y=v(o.test);return y===w?w:v(y?o.consequent:o.alternate)}else if(o.type==="ExpressionStatement"){var y=v(o.expression);return y===w?w:y}else{if(o.type==="ReturnStatement")return v(o.argument);if(o.type==="FunctionExpression"){var C=o.body.body,m={};Object.keys(O).forEach(function(V){m[V]=O[V]});for(var f=0;f<o.params.length;f++){var L=o.params[f];if(L.type=="Identifier")O[L.name]=null;else return w}for(var f in C)if(v(C[f])===w)return w;O=m;var R=Object.keys(O),M=R.map(function(V){return O[V]});return Function(R.join(", "),"return "+I(o)).apply(null,M)}else if(o.type==="TemplateLiteral"){for(var q="",f=0;f<o.expressions.length;f++)q+=v(o.quasis[f]),q+=v(o.expressions[f]);return q+=v(o.quasis[f]),q}else if(o.type==="TaggedTemplateExpression"){var J=v(o.tag),K=o.quasi,H=K.quasis.map(v),ae=K.expressions.map(v);return J.apply(null,[H].concat(ae))}else return o.type==="TemplateElement"?o.value.cooked:w}}})(d);return S===w?void 0:S}},{escodegen:12}],jsonpath:[function(N,W,P){W.exports=N("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})})(De)),De.exports}var Ft=Mt();function $t(xe){let ge=Dt(),N=new Ft.JSONPath;function W(a,g){var E={};ge.state.geonetwork&&(g.logo&&(E.logo=ge.state.geonetwork+"/"+g.logo.replace(/^\//,"")),E.exportLinks={xml:ge.state.geonetwork+"/srv/api/records/"+a+"/formatters/xml?attachment=true",pdf:ge.state.geonetwork+"/srv/api/records/"+a+"/formatters/xsl-view?root=div&output=pdf"});var C=ge.locale;console.log(a),E.uuid=a,E.title=r(N.query(g,"$..['gmd:citation']['gmd:CI_Citation']['gmd:title']"),C);var m=r(N.query(g,"$..['gmd:abstract']"),C);m&&Array.isArray(m)?m=m[0]:m||(m=""),E.dateStamp=g["gmd:dateStamp"]["gco:DateTime"]["#text"],E.description=m.replace(/(?:\\[rn]|[\r\n])/g,"<br />"),E.credit=r(g["gmd:credit"],C),E.purpose=r(g["gmd:purpose"],C),g["gmd:hierarchyLevel"]?E.hierarchyLevel=g["gmd:hierarchyLevel"]["gmd:MD_ScopeCode"]["@codeListValue"]:E.hierarchyLevel="dataset",E.purpose&&(E.purpose=E.purpose.replace(/(?:\\[rn]|[\r\n])/g,"<br />"));var L=g["gmd:identificationInfo"]["gmd:MD_DataIdentification"];E.status=N.query(g,"$..['gmd:status']['gmd:MD_ProgressCode']['@codeListValue']")[0],E.identifier=N.query(L,"$..['gmd:identifier']..['gco:CharacterString']['#text']")[0],L["gmd:topicCategory"]&&(E.topicCat=L["gmd:topicCategory"]["gmd:MD_TopicCategoryCode"]),T(E,L["gmd:descriptiveKeywords"],C),E.images=k(L["gmd:graphicOverview"],C);var R=O(N.query(L,"$..['gmd:resourceConstraints']..['gmd:MD_LegalConstraints']"),C);R&&(E.legalConstraints=R);var R=O(N.query(L,"$..['gmd:resourceConstraints']..['gmd:MD_Constraints']"),C);R&&(E.constraints=R),h(E,g,C),v(E,g,C);var M=w(N.query(L["gmd:pointOfContact"],"$..['gmd:CI_ResponsibleParty']"),C);E.contacts={resource:M};var M=w(N.query(g["gmd:contact"],"$..['gmd:CI_ResponsibleParty']"),C);E.contacts.metadata=M;var q=g["gmd:distributionInfo"]["gmd:MD_Distribution"]["gmd:distributionFormat"]||{};return y(E,q,C),n(E,g,C,a),u(E,L["gmd:extent"]),o(E,N.query(L,"$..['gmd:citation']..['gmd:CI_Date']")),I(E,L["gmd:aggregationInfo"]),s(E,L["gmd:spatialResolution"]),p(E,L["gmd:spatialRepresentationType"]),E}function P(a){if(a===void 0)return null;var g=[];for(var E in a)E!=="gmd:electronicMailAddress"&&a[E]["gco:CharacterString"]&&a[E]["gco:CharacterString"]["#text"]&&g.push(a[E]["gco:CharacterString"]["#text"]);return g.length==0?null:g.join(",")}function I(a,g){!g||g===void 0||(a.related||(a.related={siblings:[]}),a.related.siblings||(a.related.siblings=[]),g&&!g.forEach&&(g=[g]),g.forEach(function(E){var C=E["gmd:MD_AggregateInformation"]["gmd:initiativeType"]["gmd:DS_InitiativeTypeCode"]["@codeListValue"],m=N.query(E,"$..['gmd:MD_Identifier']..['#text']");m.length>0&&a.related.siblings.push({initiativeType:C,title:m[0],id:m[0]})}))}function d(a){if(a===void 0)return null;var g=a["gmd:southBoundLatitude"]["gco:Decimal"]["#text"],E=a["gmd:northBoundLatitude"]["gco:Decimal"]["#text"],C=a["gmd:westBoundLongitude"]["gco:Decimal"]["#text"],m=a["gmd:eastBoundLongitude"]["gco:Decimal"]["#text"],L=[[[parseFloat(C),parseFloat(g)],[parseFloat(C),parseFloat(E)],[parseFloat(m),parseFloat(E)],[parseFloat(m),parseFloat(g)],[parseFloat(C),parseFloat(g)]]];return L}function O(a,g){if(!a)return null;var E=[];return!a||a.length===0?null:(a.forEach(function(C){var m=C["gmd:otherConstraints"];if(m){var m=m.forEach?m:[m];m.forEach(function(R){E.push(r(R,g))})}var m=C["gmd:useLimitation"];if(m){var m=m.forEach?m:[m];m.forEach(function(R){E.push(r(R,g))})}}),E)}function w(a,g){var E=[];if(!a)return E;a.length>0?a.forEach(function(m){E.push(S(m,g))}):E.push(S(a,g));var C={};return E.forEach(function(m){C[m[0]]?C[m[0]].push(m):C[m[0]]=[m]}),C}function S(a,g){var E=N.query(a,"$..['gmd:CI_RoleCode']['@codeListValue']")[0],C=N.query(a,"$..['gmd:organisationName']")[0],m=r(C,g),L=f(C),R=N.query(a,"$..['gmd:individualName']")[0],M=r(R,g),q=f(R),J=N.query(a,"$..['gmd:electronicMailAddress']..['#text']")[0],K=P(N.query(a,"$..['gmd:CI_Address']")[0]),H=null;return[E,type,m,M,J,H,null,K,L,q]}function v(a,g,E){var C=N.query(g,"$..['gmd:referenceSystemInfo']..['gmd:code']");a.crs=[],C.forEach(function(m){a.crs.push(r(m,E))})}function o(a,g){!g||g==="undefined"||g.length===0||g.forEach(function(E){var C=E["gmd:dateType"]["gmd:CI_DateTypeCode"]["@codeListValue"],m=E["gmd:date"]["gco:Date"]?E["gmd:date"]["gco:Date"]["#text"]:E["gmd:date"]["gco:DateTime"]["#text"];a[C+"Date"]=m})}function u(a,g){a.temporalExtents=[];var E=N.query(g,"$..['gml:beginPosition']");if(E.length>0){var C={start:{date:E[0]}},m=N.query(g,"$..['gml:endPosition']");m.length>0&&(C.end={date:m[0]}),a.temporalExtents.push(C)}var L=N.query(g,"$..['gmd:EX_GeographicBoundingBox']");L.length!==0&&(L.length>1?(a.geojson={type:"FeatureCollection",features:[]},L.forEach(function(R){a.geojson.features.push({type:"Feature",geometry:{type:"Polygon",coordinates:d(R)}})})):a.geojson={type:"Feature",geometry:{type:"Polygon",coordinates:d(L[0])}})}function y(a,g,E){var C=[],m=N.query(g,"$..['gmd:MD_Format']");if(m===void 0)return C;m.forEach||(m=[m]),m.forEach(function(L){C.push(r(L["gmd:name"],E))}),a.format=C}function l(a){if(!a)return{search:"free",view:"UNKNOWN",download:"UNKOWN"};var g=a.split(";"),E={},C={};return g.forEach(function(m){var L=m.split("=");L.length>1&&["search","view","download"].indexOf(L[0])>=0?E[L[0]]=L[1]:C[L[0]]=L[1].split(",")}),{access:E,query:C}}function f(a){if(a===void 0)return null;var g=N.query(a,"$..['gmx:Anchor']['@xlink:href']");return g.length>0?g[0]:null}function r(a,g){var E=null;if(a===void 0)return null;if(g){var C=N.query(a,"$..['gmd:LocalisedCharacterString']");C.length>0&&C.forEach(function(m){m["@locale"]==="#"+g&&m["#text"]&&(E=m["#text"])})}return E||(a=a.length>0?a[0]:a,E=a["gco:CharacterString"]?a["gco:CharacterString"]["#text"]:a["gmx:Anchor"]?a["gmx:Anchor"]["#text"]:null),E}function k(a,g){var E=[];return a===void 0?null:(a.forEach||(a=[a]),a.forEach(function(C){if(C["gmd:MD_BrowseGraphic"]["gmd:fileName"]["gco:CharacterString"]){var m=C["gmd:MD_BrowseGraphic"]["gmd:fileName"]["gco:CharacterString"]["#text"],L=r(C["gmd:MD_BrowseGraphic"]["gmd:fileDescription"],g);E.push(["overview",m,L||""])}}),E)}function T(a,g,E){var C=[];g&&g.forEach(function(m){var L=m["gmd:MD_Keywords"]["gmd:keyword"],R=N.query(m,"$..['gmd:MD_KeywordTypeCode']['@codeListValue']");R?R=R[0]:R=null;var M=!1;if(m["gmd:MD_Keywords"]["gmd:thesaurusName"]){var q=N.query(m["gmd:MD_Keywords"]["gmd:thesaurusName"],"$..['gmd:identifier']..['gmd:code']['gmx:Anchor']['#text']")[0];if(console.log(q),q){var J=q.split(".");R=J[3];var q="th_"+J.slice(4,J.length+1).join(".");q.indexOf("distributor")>=0&&(M=!0)}}L.forEach||(L=[L]);var K=[];L.forEach(function(H){var ae=r(H,E),V=N.query(H,"$..['gmx:Anchor']['@xlink:href']");V&&(V=V[0]),ae&&(K.push({name:r(H,E),link:V}),M&&(a.dataCenter=V,a.cds=V.substring(V.lastIndexOf("#")+1)))}),C.push({type:R,key:q,keywords:K})}),console.log(a),a.keyword=C}function h(a,g,E){a.lineage="un tesst curiosité";var C=N.query(g,"$..['gmd:statement']"),m=[];C.forEach(function(L){m.push(r(L,E))}),a.lineage=m}function n(a,g,E,C){var m={},L=N.query(g,"$..['gmd:CI_OnlineResource']");if(L[0]&&L[0].length>0){var R=[];L.forEach(function(M){R=R.concat(M)}),L=R}L.forEach(function(M,q){var J="WWW:LINK-1.0-http--link";if(M["gmd:protocol"]["gmx:Anchor"])var J=M["gmd:protocol"]["gmx:Anchor"]["#text"];else if(M["gmd:protocol"]["gco:CharacterString"])var J=M["gmd:protocol"]["gco:CharacterString"]["#text"];var K=M["gmd:linkage"]["gmd:URL"],H=r(M["gmd:name"],E),ae=r(M["gmd:description"],E),V={id:q,name:H,description:ae,url:K,type:J};switch(console.log(J),J){case"UKST":case"OpenSearch":case"Opensearch":case"opensearch":case"SensorThings":case"STAC":var le=l(ae);m.api||(m.api={}),m.api[J]={url:K,name:H,protocol:J,access:le.access,query:le.query},a[J.toLowerCase()]=K;break;case"GetMap":case"WTS":case"WMTS":case"OGC API - Tiles":case"XYZ-Tile-Service":case"OGC:WMS":case"OGC:WMS-1.1.1-http-get-map":case"OGC:WFS":case"OGC:WFS-G":case"OGC:KML":case"OGC:OWS":case"OGC:OWS-C":case"OGC Web Map Service":case"GLG:KML-2.0-http-get-map":m.layers||(m.layers=[]);var de=C+"_"+m.layers.length;console.log(de),V.id=de,m.layers.push(V);break;case"application/vnd.google-earth.kml+xml":case"WWW:DOWNLOAD-1.0-ftp--download":break;case"WWW:DOWNLOAD-1.0-link--download":case"telechargement":case"download":case"WWW:DOWNLOAD-1.0-http--download":m.download||(m.download=[]),m.download.push(V);break;case"WWW:DOWNLOAD-1.0-link--order":case"order":m.order||(m.order=[]),m.order.push(V);break;case"WWW:LINK-1.0-http--related":m.relatedLinks||(m.relatedLinks=[]),m.relatedLinks.push(V);break;case"WWW:LINK-1.0-http--link":case"WWW:LINK-1.0-http--partners":case"DOI":default:m.links||(m.links=[]),m.links.push(V);break}}),a.links=m}function s(a,g){if(g!==void 0){var E=N.query(g,"$..['gco:Distance']"),C=N.query(g,"$..['gmd:denominator']['gco:Integer']"),m=[];if(E&&E.length>0){var L=E.map(R=>R["#text"]+" "+R["@uom"]);m=L}if(C&&C.length>0){var L=E.map(M=>"1 / "+M["#text"]);m=m.concat(L)}a.resolution=m}}function p(a,g){g!==void 0&&g["gmd:MD_SpatialRepresentationTypeCode"]&&g["gmd:MD_SpatialRepresentationTypeCode"]["@codeListValue"]&&(a.representation=g["gmd:MD_SpatialRepresentationTypeCode"]["@codeListValue"])}return{transform:W}}export{$t as default};
